<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Library</title>
  <!-- if you havenâ€™t already, include your custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <h1>Book Library</h1>
  <p><a href="{{ url_for('web.add_book') }}" class="add-button">+ Add Book</a></p>

  <form method="get">
    <input type="text" name="search" placeholder="Search by title" value="{{ selected.search or '' }}"/>

    <select name="status">
      <option value="">All statuses</option>
      <option value="available"  {% if selected.status=='available' %}selected{% endif %}>Available</option>
      <option value="borrowed"   {% if selected.status=='borrowed'  %}selected{% endif %}>Borrowed</option>
    </select>

    <select name="genre">
      <option value="">All genres</option>
      {% for g in genres %}
      <option value="{{ g }}" {% if selected.genre==g %}selected{% endif %}>{{ g }}</option>
      {% endfor %}
    </select>

    <button type="submit">Filter</button>
  </form>

  <table border="1" cellpadding="5" cellspacing="0">
    <thead>
      <tr><th>Title</th><th>Author</th><th>Status</th><th>Genre</th></tr>
    </thead>
    <tbody>
      {% for book in books %}
      <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.status }}</td>
        <td>{{ book.genre }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
